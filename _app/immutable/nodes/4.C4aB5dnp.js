import{t as F,a as Y}from"../chunks/D0olhUvi.js";import"../chunks/1fWIjdlx.js";import{a8 as R,a9 as T,aa as V,a7 as X,ab as H,f as t,ac as J,s as u,ad as s,v as p,c as j,r as D}from"../chunks/Dxt62XMo.js";import{B as K}from"../chunks/B7Lq80dp.js";import{s as L}from"../chunks/ufU7u_KI.js";import{r as O,s as W}from"../chunks/BxuMG8tz.js";import{b as Q}from"../chunks/CNuWzhWm.js";import{b as U}from"../chunks/NLylHng5.js";import{i as Z}from"../chunks/BjSHy-Xe.js";import{o as tt}from"../chunks/Bd8YvDJK.js";import"../chunks/nHqQ5mnR.js";import{a as B}from"../chunks/sENntlTP.js";import{m as at}from"../chunks/DHO-D6Gx.js";import{s as et}from"../chunks/uWTSG2Kf.js";import{c as C}from"../chunks/C4zzdlvu.js";import{j as rt,i as it}from"../chunks/CPNW75yO.js";import{s as ot}from"../chunks/DFJOuHom.js";import{m as st}from"../chunks/B9H2ajqG.js";import{B as nt}from"../chunks/9f1uWwtE.js";var lt=F('<div class="mb-4"><label for="year-slider"><strong>Year:</strong> </label> <input id="year-slider" type="range" step="1"></div> <svg></svg>',1);function ct(v,l){R(l,!1);let i=p(),r=p([]),d=p(),f=p([]),o=p(),g=[2e3,2023];const n=800,_=600;let k=0,E=0;tt(async()=>{s(r,await C("./fire_points.csv",B)),s(r,t(r).filter(a=>a.latitude&&a.longitude)),s(d,await rt("./california-counties.geojson")),s(f,await C("./CA_Weather_Fire_Dataset_1984-2025.csv",B)),[...new Set(t(r).map(a=>a.year))],s(o,g[0])});function $(){const a=ot(t(i)).attr("width",n).attr("height",_);a.selectAll("*").remove();const w=st().center([-119.5,37.5]).scale(3200).translate([n/2,_/2]),I=it().projection(w),N=t(f).filter(e=>e.YEAR===t(o)),h=at(N,e=>e.AVG_WIND_SPEED);k=(h==null?void 0:h.toFixed(2))||"N/A";const G=[0,10],P=et(nt).domain(G);a.selectAll("path").data(t(d).features).join("path").attr("d",I).attr("fill",P(h)).attr("stroke","#aaa").attr("stroke-width",.5);const S=t(r).filter(e=>e.year===t(o));E=S.length,a.selectAll("circle").data(S).join("circle").attr("cx",e=>{const c=w([e.longitude,e.latitude]);return c?c[0]:-100}).attr("cy",e=>{const c=w([e.longitude,e.latitude]);return c?c[1]:-100}).attr("r",e=>Math.sqrt(e.acres)*.03).attr("fill","red").attr("opacity",.6);const b=n-140,A=_-70;a.append("rect").attr("x",b).attr("y",A).attr("width",140).attr("height",50).attr("fill","white").attr("stroke","#ccc").attr("rx",4),a.append("circle").attr("cx",b+15).attr("cy",A+20).attr("r",6).attr("fill","red").attr("opacity",.6),a.append("text").attr("x",b+30).attr("y",A+24).text("Fire Incident").attr("font-size",12).attr("fill","#333"),a.append("rect").attr("x",n-220).attr("y",60).attr("width",200).attr("height",45).attr("fill","white").attr("stroke","#ccc").attr("rx",4),a.append("text").attr("x",n-210).attr("y",78).text(`Wind Speed: ${k} mph`).attr("font-size",12).attr("fill","#333"),a.append("text").attr("x",n-210).attr("y",92).text(`Fire Count: ${E}`).attr("font-size",12).attr("fill","#333")}T(()=>(t(i),t(r),t(d),t(f),t(o)),()=>{t(i)&&t(r).length&&t(d)&&t(f).length&&t(o)!==void 0&&$()}),V(),Z();var M=lt(),x=X(M),y=j(x),z=u(j(y));D(y);var m=u(y,2);O(m),D(x);var q=u(x,2);U(q,a=>s(i,a),()=>t(i)),H(()=>{L(z,` ${t(o)??""}`),W(m,"min",g[0]),W(m,"max",g[1])}),Q(m,()=>t(o),a=>s(o,a)),Y(v,M),J()}var pt=F('<div class="container"><!> <h1>California Wildfires - Animated Map</h1> <!></div>');function Wt(v){var l=pt(),i=j(l);K(i);var r=u(i,4);ct(r,{}),D(l),Y(v,l)}export{Wt as component};

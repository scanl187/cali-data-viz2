import{t as x,a as h}from"../chunks/D0olhUvi.js";import"../chunks/1fWIjdlx.js";import{a8 as rt,a9 as ot,aa as st,a7 as G,ab as E,f as t,ac as it,s as n,c as f,ad as c,v as _,r as p,ae as nt,i as lt}from"../chunks/Dxt62XMo.js";import{B as mt}from"../chunks/B7Lq80dp.js";import{e as L,s as Y}from"../chunks/ufU7u_KI.js";import{i as ct}from"../chunks/DaYBm5bb.js";import{e as H,i as I}from"../chunks/Q04k5jjF.js";import{r as J,s as K,b as pt}from"../chunks/BxuMG8tz.js";import{s as dt}from"../chunks/DQVTU1sx.js";import{b as ft}from"../chunks/CNuWzhWm.js";import{b as vt}from"../chunks/NLylHng5.js";import{i as ut}from"../chunks/BjSHy-Xe.js";import{o as gt}from"../chunks/Bd8YvDJK.js";import"../chunks/nHqQ5mnR.js";import{a as _t}from"../chunks/sENntlTP.js";import{s as bt}from"../chunks/CB6J5KXz.js";import{d as yt,l as N}from"../chunks/DLZV-4rG.js";import{m as ht}from"../chunks/D1slsF82.js";import{m as O}from"../chunks/DBeXZoyG.js";import{e as xt}from"../chunks/Ccx1MofX.js";import{o as wt}from"../chunks/CzTs3WvC.js";import{c as St}from"../chunks/C4zzdlvu.js";import{r as Ct}from"../chunks/BpUo07YV.js";import{s as kt}from"../chunks/DFJOuHom.js";import{T as j}from"../chunks/BFJ9hVLE.js";import{a as $t,b as At}from"../chunks/rlX7cRMw.js";var Tt=x('<label><input type="checkbox"> </label><br>',1),Bt=x('<li style="margin-bottom: 4px; display: flex; align-items: center;"><span></span> </li>'),zt=x('<div style="margin-top: 1rem;"><h4>Legend:</h4> <ul style="list-style: none; padding-left: 0;"></ul></div>'),Dt=x('<div style="margin-bottom: 1rem;"><label for="year-slider"><strong>Select Year:</strong> </label> <input id="year-slider" type="range" step="1"></div> <div class="d-flex gap-2 align-items-center"><button>Reset to Top 5</button> <button>Deselect All</button></div> <div style="columns: 5; max-height: 300px; overflow-y: auto; margin-bottom: 1rem;"></div> <div class="d-flex gap-2"><svg></svg> <!></div>',1);function Et(C,b){rt(b,!1);let d=_(),l=_([]),k=_([]),$=[],o=_(new Set),w=_([2e3,2023]),v=_();const q=800,A=500,g={top:40,right:40,bottom:60,left:60};gt(async()=>{const e=await St("./scatter_unemployment_vs_acres.csv",_t);c(l,e),c(k,[...new Set(e.map(r=>r.county))].sort()),$=[...Ct(e,r=>bt(r,s=>s.total_acres_burned),r=>r.county).entries()].sort((r,s)=>yt(r[1],s[1])).slice(0,5).map(r=>r[0]),c(o,new Set($));const i=[...new Set(t(l).map(r=>r.year))];c(w,[ht(i),O(i)]),c(v,t(w)[0])});function P(e){t(o).has(e)?t(o).delete(e):t(o).add(e),c(o,new Set(t(o)))}function Q(){c(o,new Set($))}function U(){c(o,new Set)}function V(){const e=kt(t(d)).attr("width",q).attr("height",A);e.selectAll("*").remove();const m=t(l).filter(a=>a.year===t(v)&&t(o).has(a.county)),i=N().domain(xt(t(l),a=>a.unemployment_rate)).nice().range([g.left,q-g.right]),r=N().domain([0,O(t(l),a=>a.total_acres_burned)]).nice().range([A-g.bottom,g.top]),s=wt().domain(t(k)).range(j),y=a=>a.attr("transform",`translate(0,${A-g.bottom})`).call($t(i)),u=a=>a.attr("transform",`translate(${g.left},0)`).call(At(r));e.append("g").call(y),e.append("g").call(u),e.selectAll("circle").data(m,a=>a.county).join("circle").attr("r",6).attr("fill",a=>s(a.county)).attr("opacity",.8).attr("cx",a=>i(a.unemployment_rate)).attr("cy",a=>r(a.total_acres_burned))}ot(()=>(t(l),t(d),t(v),t(o)),()=>{t(l).length&&t(d)&&t(v)&&t(o).size>0&&V()}),st(),ut();var M=Dt(),T=G(M),B=f(T),X=n(f(B));p(B);var S=n(B,2);J(S),p(T);var z=n(T,2),R=f(z),Z=n(R,2);p(z);var D=n(z,2);H(D,5,()=>t(k),I,(e,m)=>{var i=Tt(),r=G(i),s=f(r);J(s);var y=n(s);p(r),nt(),E(u=>{pt(s,u),Y(y,` ${t(m)??""}`)},[()=>t(o).has(t(m))],lt),L("change",s,()=>P(t(m))),h(e,i)}),p(D);var W=n(D,2),F=f(W);vt(F,e=>c(d,e),()=>t(d));var tt=n(F,2);{var et=e=>{var m=zt(),i=n(f(m),2);H(i,5,()=>[...t(o)],I,(r,s,y)=>{var u=Bt(),a=f(u),at=n(a);p(u),E(()=>{dt(a,`
                  width: 16px;
                  height: 16px;
                  margin-right: 8px;
                  display: inline-block;
                  background-color: ${j[y%j.length]??""};
                `),Y(at,` ${t(s)??""}`)}),h(r,u)}),p(i),p(m),h(e,m)};ct(tt,e=>{t(l).length&&t(o).size>0&&e(et)})}p(W),E(()=>{Y(X,` ${t(v)??""}`),K(S,"min",t(w)[0]),K(S,"max",t(w)[1])}),ft(S,()=>t(v),e=>c(v,e)),L("click",R,Q),L("click",Z,U),h(C,M),it()}var Lt=x('<div class="container"><!> <h1>California Wildfires â€“ Economics Chart</h1> <!></div>');function ie(C){var b=Lt(),d=f(b);mt(d);var l=n(d,4);Et(l,{}),p(b),h(C,b)}export{ie as component};

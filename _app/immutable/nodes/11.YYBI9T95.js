import{t as k,a as w}from"../chunks/D0olhUvi.js";import"../chunks/1fWIjdlx.js";import{a8 as dt,a9 as vt,aa as ut,a7 as U,ab as F,f as t,ac as gt,s as m,c as d,i as V,v as h,ad as c,r as p,ae as _t}from"../chunks/Dxt62XMo.js";import{B as yt}from"../chunks/B7Lq80dp.js";import{e as M,s as X}from"../chunks/ufU7u_KI.js";import{i as ht}from"../chunks/DaYBm5bb.js";import{e as Z,i as tt}from"../chunks/Q04k5jjF.js";import{s as T,r as W,a as bt,b as xt}from"../chunks/BxuMG8tz.js";import{s as wt}from"../chunks/DQVTU1sx.js";import{b as et}from"../chunks/CNuWzhWm.js";import{b as kt}from"../chunks/NLylHng5.js";import{i as Ct}from"../chunks/BjSHy-Xe.js";import{o as St}from"../chunks/Bd8YvDJK.js";import"../chunks/nHqQ5mnR.js";import{m as at}from"../chunks/D1slsF82.js";import{m as j}from"../chunks/DBeXZoyG.js";import{a as $t}from"../chunks/sENntlTP.js";import{s as Tt}from"../chunks/CB6J5KXz.js";import{d as At,l as rt,f as Bt}from"../chunks/DLZV-4rG.js";import{e as Lt}from"../chunks/Ccx1MofX.js";import{r as zt,g as Yt}from"../chunks/BpUo07YV.js";import{o as Dt}from"../chunks/CzTs3WvC.js";import{c as Rt}from"../chunks/C4zzdlvu.js";import{s as ot}from"../chunks/DFJOuHom.js";import{T as G}from"../chunks/BFJ9hVLE.js";import{l as qt}from"../chunks/XshjUOsZ.js";import{a as Et,b as Ft}from"../chunks/rlX7cRMw.js";var Mt=k('<label><input type="checkbox"> </label><br>',1),Wt=k('<li style="margin-bottom: 4px; display: flex; align-items: center;"><span></span> </li>'),jt=k('<div style="margin-top: 1rem;"><h4>Legend:</h4> <ul style="list-style: none; padding-left: 0;"></ul></div>'),Gt=k('<div><h3>Select Counties:</h3> <div class="d-flex gap-2 align-items-center"><button>Reset to Top 5</button> <div style="margin: 1rem 0;"><label>Year Range: <input type="number"> - <input type="number"></label></div> <button>Deselect All</button></div> <div style="columns: 5; max-height: 300px; overflow-y: auto;"></div></div> <div class="d-flex gap-2"><svg></svg> <!></div>',1);function Ht(A,b){dt(b,!1);let f=h(),s=h([]),u=h(null),g=h(null),H=h([]),B=[],i=h(new Set);const I=800,L=500,y={top:40,right:40,bottom:50,left:60};St(async()=>{const e=await Rt("./fire_counts_by_county_and_year.csv",$t);B=[...zt(e,r=>Tt(r,o=>o.fire_count),r=>r.county).entries()].sort((r,o)=>At(r[1],o[1])).slice(0,5).map(r=>r[0]),c(H,[...new Set(e.map(r=>r.county))].sort()),c(i,new Set(B)),c(s,e);const l=Lt(t(s),r=>r.year);c(u,1990),c(g,l[1])});function it(){c(i,new Set)}function st(e){t(i).has(e)?t(i).delete(e):t(i).add(e),c(i,new Set(t(i)))}function nt(){c(i,new Set(B))}function lt(){ot(t(f)).selectAll("*").remove();const e=[...t(i)],n=t(s).filter(a=>e.includes(a.county)),l=t(s).filter(a=>e.includes(a.county)&&a.year>=t(u)&&a.year<=t(g)),r=Yt(l,a=>a.county);[...new Set(l.map(a=>a.year))];const o=rt().domain([t(u),t(g)]).range([y.left,I-y.right]),_=rt().domain([0,j(n,a=>a.fire_count)]).nice().range([L-y.bottom,y.top]),v=Dt().domain([...r.keys()]).range(G),S=a=>a.attr("transform",`translate(0,${L-y.bottom})`).call(Et(o).tickFormat(Bt("d"))),R=a=>a.attr("transform",`translate(${y.left},0)`).call(Ft(_)),ft=qt().x(a=>o(a.year)).y(a=>_(a.fire_count)),$=ot(t(f)).attr("width",I).attr("height",L);$.append("g").call(S),$.append("g").call(R);for(const[a,q]of r)$.append("path").datum(q).attr("fill","none").attr("stroke",v(a)).attr("stroke-width",2).attr("d",ft),$.append("text").datum(q[q.length-1]).attr("x",E=>o(E.year)+5).attr("y",E=>_(E.fire_count)).text(a).attr("font-size",10).attr("fill",v(a))}vt(()=>(t(s),t(f),t(i),t(u),t(g)),()=>{t(s).length&&t(f)&&t(i).size>0&&t(u)!==null&&t(g)!==null&&lt()}),ut(),Ct();var J=Gt(),z=U(J),Y=m(d(z),2),K=d(Y),D=m(K,2),N=d(D),x=m(d(N));W(x);var C=m(x,2);W(C),p(N),p(D);var mt=m(D,2);p(Y);var O=m(Y,2);Z(O,5,()=>t(H),tt,(e,n)=>{var l=Mt(),r=U(l),o=d(r);W(o);var _=m(o);p(r),_t(),F(v=>{bt(o,t(n)),xt(o,v),X(_,` ${t(n)??""}`)},[()=>t(i).has(t(n))],V),M("change",o,()=>st(t(n))),w(e,l)}),p(O),p(z);var P=m(z,2),Q=d(P);kt(Q,e=>c(f,e),()=>t(f));var ct=m(Q,2);{var pt=e=>{var n=jt(),l=m(d(n),2);Z(l,5,()=>[...t(i)],tt,(r,o,_)=>{var v=Wt(),S=d(v),R=m(S);p(v),F(()=>{wt(S,`
              width: 16px;
              height: 16px;
              margin-right: 8px;
              display: inline-block;
              background-color: ${G[_%G.length]??""};
            `),X(R,` ${t(o)??""}`)}),w(r,v)}),p(l),p(n),w(e,n)};ht(ct,e=>{t(s).length&&t(i).size>0&&e(pt)})}p(P),F((e,n,l,r)=>{T(x,"min",e),T(x,"max",n),T(C,"min",l),T(C,"max",r)},[()=>at(t(s),e=>e.year),()=>j(t(s),e=>e.year),()=>at(t(s),e=>e.year),()=>j(t(s),e=>e.year)],V),M("click",K,nt),et(x,()=>t(u),e=>c(u,e)),et(C,()=>t(g),e=>c(g,e)),M("click",mt,it),w(A,J),gt()}var It=k('<div class="container"><!> <h1>California Wildfires â€“ Line Chart</h1> <!></div>');function _e(A){var b=It(),f=d(b);yt(f);var s=m(f,4);Ht(s,{}),p(b),w(A,b)}export{_e as component};

import{t as z,a as C}from"../chunks/D0olhUvi.js";import"../chunks/1fWIjdlx.js";import{a8 as q,a9 as L,aa as G,a7 as H,ab as J,f as t,ac as K,s as u,ad as s,v as p,c as w,r as A}from"../chunks/Dxt62XMo.js";import{B as Q}from"../chunks/B7Lq80dp.js";import{s as U}from"../chunks/ufU7u_KI.js";import{r as V,s as $}from"../chunks/BxuMG8tz.js";import{b as Z}from"../chunks/CNuWzhWm.js";import{b as T}from"../chunks/NLylHng5.js";import{i as tt}from"../chunks/BjSHy-Xe.js";import{o as at}from"../chunks/Bd8YvDJK.js";import{b as et}from"../chunks/BCWpqkfc.js";import"../chunks/nHqQ5mnR.js";import{a as R}from"../chunks/sENntlTP.js";import{l as rt}from"../chunks/DLZV-4rG.js";import{c as N}from"../chunks/C4zzdlvu.js";import{j as st,i as it}from"../chunks/CPNW75yO.js";import{s as W}from"../chunks/DFJOuHom.js";import{a as ot}from"../chunks/rlX7cRMw.js";import{m as nt}from"../chunks/B9H2ajqG.js";var lt=z('<div class="mb-4"><label for="year-slider"><strong>Year:</strong></label> <input id="year-slider" type="range" step="1"></div> <div class="d-flex justify-content-end mb-4"><strong> </strong> <svg></svg></div> <svg></svg>',1);function ct(F,d){q(d,!1);let i=p(),h=p(),m=p([]),_=p(),y=p([]),o=p(),j=[2e3,2023],n=p([30,100]);const l=800,E=600;at(async()=>{s(m,await N("./fire_points.csv",R)),s(m,t(m).filter(e=>e.latitude&&e.longitude)),s(_,await st("./california-counties.geojson")),s(y,await N("./CA_Weather_Fire_Dataset_1984-2025.csv",R)),s(o,j[0]),O()});function I(){const e=W(t(i)).attr("width",l).attr("height",E);e.selectAll("*").remove();const c=nt().center([-119.5,37.5]).scale(3200).translate([l/2,E/2]),f=it().projection(c),x=t(m).filter(a=>a.year===t(o)),g=t(y).filter(a=>a.YEAR===t(o)),v=new Map;g.forEach(a=>{const r=(a.MAX_TEMP+a.MIN_TEMP)/2;isNaN(r)||v.set(+a.DAY_OF_YEAR,r)});const M=x.map(a=>{const r=v.get(+a.day_of_year||+a.DAY_OF_YEAR);return{...a,temp:r}}).filter(a=>a.temp>=t(n)[0]&&a.temp<=t(n)[1]);e.selectAll("path").data(t(_).features).join("path").attr("d",f).attr("fill","#f0f0f0").attr("stroke","#aaa").attr("stroke-width",.5),e.selectAll("circle").data(M).join("circle").attr("cx",a=>{var r;return((r=c([a.longitude,a.latitude]))==null?void 0:r[0])||-100}).attr("cy",a=>{var r;return((r=c([a.longitude,a.latitude]))==null?void 0:r[1])||-100}).attr("r",a=>Math.sqrt(a.acres)*.02).attr("fill","blue").attr("opacity",.6),e.append("rect").attr("x",l-240).attr("y",10).attr("width",230).attr("height",50).attr("fill","white").attr("stroke","#ccc"),e.append("text").attr("x",l-230).attr("y",30).text(`Year: ${t(o)}`).attr("font-size",12),e.append("text").attr("x",l-230).attr("y",45).text(`Fire Incidents: ${M.length}`).attr("font-size",12)}function O(){const e=W(t(h)).attr("width",l).attr("height",100);e.selectAll("*").remove();const c={left:40,right:40},f=rt().domain([30,100]).range([c.left,l-c.right]);e.append("g").attr("transform","translate(0,80)").call(ot(f).ticks(10).tickFormat(g=>`${g}°F`));const x=et().extent([[c.left,30],[l-c.right,70]]).on("brush end",g=>{const v=g.selection;if(v){const[M,a]=v.map(f.invert);s(n,[Math.round(M),Math.round(a)])}else s(n,[30,100])});e.append("g").attr("class","brush").call(x).call(x.move,[f(t(n)[0]),f(t(n)[1])])}L(()=>(t(i),t(m),t(_),t(y),t(o)),()=>{t(i)&&t(m).length&&t(_)&&t(y).length&&t(o)!==void 0&&I()}),G(),tt();var k=lt(),B=H(k),b=u(w(B),2);V(b),A(B);var Y=u(B,2),D=w(Y),P=w(D);A(D);var S=u(D,2);T(S,e=>s(h,e),()=>t(h)),A(Y);var X=u(Y,2);T(X,e=>s(i,e),()=>t(i)),J(()=>{$(b,"min",j[0]),$(b,"max",j[1]),U(P,`Filter by Daily Avg Temp (°F): ${t(n)[0]??""}°F – ${t(n)[1]??""}°F`)}),Z(b,()=>t(o),e=>s(o,e)),C(F,k),K()}var pt=z('<div class="container"><!> <h1>California Wildfires - Brushed Multi Layer Map</h1> <!></div>');function Et(F){var d=pt(),i=w(d);Q(i);var h=u(i,4);ct(h,{}),A(d),C(F,d)}export{Et as component};

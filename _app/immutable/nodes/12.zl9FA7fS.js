import{t as E,a as F}from"../chunks/D0olhUvi.js";import"../chunks/1fWIjdlx.js";import{a8 as I,a9 as P,aa as W,a7 as S,ab as X,f as t,ac as G,s as u,ad as s,v as p,c as M,r as w}from"../chunks/Dxt62XMo.js";import{B as H}from"../chunks/B7Lq80dp.js";import{s as J}from"../chunks/ufU7u_KI.js";import{r as K,s as D}from"../chunks/BxuMG8tz.js";import{b as L}from"../chunks/CNuWzhWm.js";import{b as O}from"../chunks/NLylHng5.js";import{i as Q}from"../chunks/BjSHy-Xe.js";import{o as U}from"../chunks/Bd8YvDJK.js";import{i as V}from"../chunks/nHqQ5mnR.js";import{a as Y}from"../chunks/sENntlTP.js";import{m as Z}from"../chunks/DHO-D6Gx.js";import{m as tt}from"../chunks/D1slsF82.js";import{m as at}from"../chunks/DBeXZoyG.js";import{s as et}from"../chunks/uWTSG2Kf.js";import{c as k}from"../chunks/C4zzdlvu.js";import{j as rt,i as it}from"../chunks/CPNW75yO.js";import{s as ot}from"../chunks/DFJOuHom.js";import{m as st}from"../chunks/B9H2ajqG.js";var lt=E('<div class="mb-4"><label for="year-slider"><strong>Year:</strong> </label> <input id="year-slider" type="range" step="1"></div> <svg></svg>',1);function nt(h,l){I(l,!1);let r=p(),i=p([]),c=p(),f=p([]),o=p(),_=[2e3,2023];const n=800,T=600;U(async()=>{s(i,await k("./fire_points.csv",Y)),s(i,t(i).filter(e=>e.latitude&&e.longitude)),s(c,await rt("./california-counties.geojson")),s(f,await k("./CA_Weather_Fire_Dataset_1984-2025.csv",Y)),s(o,_[0])});function N(){const e=ot(t(r)).attr("width",n).attr("height",T);e.selectAll("*").remove();const b=st().center([-119.5,37.5]).scale(3200).translate([n/2,T/2]),R=it().projection(b),A=t(i).filter(a=>a.year===t(o)),v=t(f).filter(a=>a.YEAR===t(o)).map(a=>(a.MAX_TEMP+a.MIN_TEMP)/2).filter(a=>!isNaN(a)),g=v.length?Z(v):null,q=tt(v),z=at(v);console.log("Temperature Range:",{min:q,max:z});const B=et(V("#fff5f0","#67000d")).domain([30,100]);e.selectAll("path").data(t(c).features).join("path").attr("d",R).attr("fill",g!=null?B(g):"#eee").attr("stroke","#aaa").attr("stroke-width",.5),e.selectAll("circle").data(A).join("circle").attr("cx",a=>{var m;return((m=b([a.longitude,a.latitude]))==null?void 0:m[0])||-100}).attr("cy",a=>{var m;return((m=b([a.longitude,a.latitude]))==null?void 0:m[1])||-100}).attr("r",a=>Math.sqrt(a.acres)*.02).attr("fill","blue").attr("opacity",.6),e.append("rect").attr("x",n-240).attr("y",10).attr("width",230).attr("height",50).attr("fill","white").attr("stroke","#ccc"),e.append("text").attr("x",n-230).attr("y",30).text(`Avg Temp: ${g!=null?g.toFixed(2)+"Â°F":"N/A"}`).attr("font-size",12),e.append("text").attr("x",n-230).attr("y",45).text(`Fire Incidents: ${A.length}`).attr("font-size",12)}P(()=>(t(r),t(i),t(c),t(f),t(o)),()=>{t(r)&&t(i).length&&t(c)&&t(f).length&&t(o)!==void 0&&N()}),W(),Q();var j=lt(),x=S(j),y=M(x),$=u(M(y));w(y);var d=u(y,2);K(d),w(x);var C=u(x,2);O(C,e=>s(r,e),()=>t(r)),X(()=>{J($,` ${t(o)??""}`),D(d,"min",_[0]),D(d,"max",_[1])}),L(d,()=>t(o),e=>s(o,e)),F(h,j),G()}var mt=E('<div class="container"><!> <h1>California Wildfires - Multilayer Map</h1> <!></div>');function Ft(h){var l=mt(),r=M(l);H(r);var i=u(r,4);nt(i,{}),w(l),F(h,l)}export{Ft as component};
